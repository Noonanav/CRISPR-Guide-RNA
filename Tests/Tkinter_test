from tkinter import *
from tkinter.filedialog import askopenfilename
import os

Win=Tk()
Win.title("Guide RNA Finder")

#Button Functions
def End():
    Win.quit()

def File(FileName):
    File = askopenfilename()
    FileName["text"] = os.path.basename(File)
    print(File)

def Add():
    Done.pack_forget()
    A_Seq.pack_forget()
    Organizer("Additional Sequnce", "R")
    A_Seq.pack()
    Done.pack(pady = 50)

def Get_Rid(Frame, Prompt):
    Frame.pack_forget()
    Prompt.pack_forget()


#Function to create headings and buttons
def Organizer(Heading, Type ):
    Prompt = Label(Win, text = Heading)
    F = Frame(Win)
    Prompt.pack(pady = 5, padx = 100)
    if (Type == "A"):
        More = Button(F,text = "Add More", command = Add)
        More.pack()
    else:
        Formats = [ "Fasta", "Genbank"]
        Type_Var = StringVar(Win)
        Type_Var.set("Fasta")
        FileType = OptionMenu(F, Type_Var, *Formats)
        FileName = Button(F,text = "File Name", command = lambda: File(FileName))
        FileName.grid(row = 0, column = 2)
        FileType.grid(row = 0, column = 4)

        if(Type == "R"):
            Remove = Button(F,text = "Remove", command = lambda: Get_Rid(F,Prompt))
            Remove.grid(row = 0, column = 6)
            F.pack()

    return F

#Sequences to work on
T_Seq = Organizer("Please select the Target Sequence File", "T")
T_Seq.pack()

G_Seq = Organizer("Please select the Genome Sequence File", "G")
G_Seq.pack()

A_Seq= Organizer("Do you wish to add any additional sequences such as plasmids", "A")
A_Seq.pack()

#Done Button
Done = Button(Win, text = "Done", command = End)
Done.pack(pady = 50)

Win.mainloop()
